specification:
  version: "1.0"

environment:
  - name: "GITCONFIG_FILE"
    value: "$ENV{HOME}/.gitconfig"
  - name: "DL_DIR"
    value: "$ENV{HOME}/data/cache/downloads"
  - name: "SSTATE_DIR"
    value: "$ENV{HOME}/data/cache/sstate"

containers:
  - ubuntu-20.04:
      file: Dockerfile.ubuntu
      image: "advantech/bsp-registry/ubuntu-20.04/kas:4.7"
      args:
        - name: "DISTRO" 
          value: "ubuntu:20.04"
        - name: "KAS_VERSION"
          value: "4.7"
  - ubuntu-22.04:
      file: Dockerfile.ubuntu
      image: "advantech/bsp-registry/ubuntu-22.04/kas:5.0"
      args:
        - name: "DISTRO" 
          value: "ubuntu:22.04"
        - name: "KAS_VERSION"
          value: "5.0"

registry:
  bsp:

    # =====================================
    # Advantech RSB3730 BSPs
    # =====================================

    - name: adv-bsp-oenxp-mickledore-rsb3730
      description: "RSB3730 A2 ACL Mickledore BSP"
      build:
        path: build/adv-oenxp-bsp-rsb3730-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-mickledore-rsb3730.yaml

    - name: adv-bsp-oenxp-mickledore-rsb3730-4g
      description: "RSB3730 A2 4G ACL Mickledore BSP"
      build:
        path: build/adv-oenxp-bsp-rsb3730-4g-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-mickledore-rsb3730-4g.yaml

    # =====================================
    # Advantech ROM2620 ED91 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom2620-ed91
      description: "ROM2620 ED91 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2620-ed91-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom2620-ed91.yaml

    - name: adv-bsp-oenxp-styhead-rom2620-ed91
      description: "ROM2620 ED91 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2620-ed91-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom2620-ed91.yaml

    - name: adv-bsp-oenxp-walnascar-rom2620-ed91
      description: "ROM2620 ED91 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2620-ed91-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom2620-ed91.yaml

    # =====================================
    # Advantech ROM2820 ED93 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom2820-ed93
      description: "ROM2820 ED93 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2820-ed93-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom2820-ed93.yaml

    - name: adv-mbsp-oenxp-styhead-rom2820-ed93
      description: "ROM2820 ED93 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2820-ed93-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rom2820-ed93.yaml

    - name: adv-mbsp-oenxp-walnascar-rom2820-ed93
      description: "ROM2820 ED93 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom2820-ed93-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom2820-ed93.yaml
          
    # =====================================
    # Advantech ROM5720-DB5901 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom5720-db5901
      description: "ROM5720-DB5901 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5720-db5901-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom5720-db5901.yaml
    
    - name: adv-mbsp-oenxp-styhead-rom5720-db5901
      description: "ROM5720-DB5901 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5720-db5901-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rom5720-db5901.yaml
    
    - name: adv-mbsp-oenxp-walnascar-rom5720-db5901
      description: "ROM5720-DB5901 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5720-db5901-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom5720-db5901.yaml

    # =====================================
    # Advantech ROM5721-1G-DB5901 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom5721-1g-db5901
      description: "ROM5721-1G-DB5901 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-1g-db5901-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom5721-1g-db5901.yaml
    
    - name: adv-mbsp-oenxp-styhead-rom5721-1g-db5901
      description: "ROM5721-1G-DB5901 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-1g-db5901-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rom5721-1g-db5901.yaml
    
    - name: adv-mbsp-oenxp-walnascar-rom5721-1g-db5901
      description: "ROM5721-1G-DB5901 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-1g-db5901-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom5721-1g-db5901.yaml

    # =====================================
    # Advantech ROM5721-2G-DB5901 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom5721-2g-db5901
      description: "ROM5721-2G-DB5901 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-2g-db5901-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom5721-2g-db5901.yaml
    
    - name: adv-mbsp-oenxp-styhead-rom5721-2g-db5901
      description: "ROM5721-2G-DB5901 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-2g-db5901-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rom5721-2g-db5901.yaml
    
    - name: adv-mbsp-oenxp-walnascar-rom5721-2g-db5901
      description: "ROM5721-2G-DB5901 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5721-2g-db5901-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom5721-2g-db5901.yaml

    # =====================================
    # Advantech ROM5722-DB2510 BSPs
    # =====================================

    - name: adv-mbsp-oenxp-scarthgap-rom5722-db2510
      description: "ROM5722-DB2510 Scarthgap BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5722-db2510-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rom5722-db2510.yaml
    
    - name: adv-mbsp-oenxp-styhead-rom5722-db2510
      description: "ROM5722-DB2510 Styhead BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5722-db2510-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rom5722-db2510.yaml
    
    - name: adv-mbsp-oenxp-walnascar-rom5722-db2510
      description: "ROM5722-DB2510 Walnascar BSP"
      build:
        path: build/adv-oenxp-mbsp-rom5722-db2510-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rom5722-db2510.yaml
          
    # =====================================
    # Advantech RSB3720 ACL BSPs
    # =====================================

    - name: adv-bsp-oenxp-kirkstone-rsb3720
      description: "RSB3720 ACL Kirkstone BSP"
      build:
        path: build/adv-oenxp-bsp-rsb3720-kirkstone
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-kirkstone-rsb3720.yaml

    # =====================================
    # Advantech RSB3720 Modular BSPs
    # =====================================

    - name: adv-mbsp-oenxp-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar RSB3720"
      build:
        path: build/adv-mbsp-oenxp-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml

    - name: adv-mbsp-oenxp-styhead-rsb3720
      description: "Advantech EIoT Yocto Styhead RSB3720"
      build:
        path: build/adv-mbsp-oenxp-rsb3720-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-styhead-rsb3720.yaml

    - name: adv-mbsp-oenxp-scarthgap-rsb3720
      description: "Advantech EIoT Yocto Scarthgap RSB3720"
      build:
        path: build/adv-mbsp-oenxp-rsb3720-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-scarthgap-rsb3720.yaml

    - name: adv-ota-mbsp-oenxp-rauc-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar RAUC RSB3720"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/adv-ota-mbsp-oenxp-rauc-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml
          - features/ota/rauc/adv-ota-walnascar.yml

    - name: adv-ota-mbsp-oenxp-swupdate-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar SWUpdate RSB3720"
      build:
        path: build/adv-ota-mbsp-oenxp-swupdate-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml
          - features/ota/swupdate/adv-ota-walnascar.yml

    # =====================================
    # Poky QEMU ARM64 BSPs  
    # =====================================

    - name: poky-qemuarm64-master
      description: "QEMU ARM64 Master BSP"
      build:
        path: build/qemu-arm64-master
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/master.yml
          - compilers/clang/master.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-kirkstone
      description: "QEMU ARM64 Kirkstone BSP"
      build:
        path: build/qemu-arm64-kirkstone
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/kirkstone.yml
          - compilers/clang/kirkstone.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-nanbield
      description: "QEMU ARM64 Nanbield BSP"
      build:
        path: build/qemu-arm64-nanbield
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/nanbield.yml
          - compilers/clang/nanbield.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-mickledore
      description: "QEMU ARM64 Mickledore BSP"
      build:
        path: build/qemu-arm64-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/mickledore.yml
          - compilers/clang/mickledore.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-scarthgap
      description: "QEMU ARM64 Scarthgap BSP"
      build:
        path: build/qemu-arm64-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/scarthgap.yml
          - compilers/clang/scarthgap.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-styhead
      description: "QEMU ARM64 Styhead BSP"
      build:
        path: build/qemu-arm64-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/styhead.yml
          - compilers/clang/styhead.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-walnascar
      description: "QEMU ARM64 Walnascar BSP"
      build:
        path: build/qemu-arm64-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/walnascar.yml
          - compilers/clang/walnascar.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-whinlatter
      description: "QEMU ARM64 Whinlatter BSP"
      build:
        path: build/qemu-arm64-whinlatter
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/whinlatter.yml
          - compilers/clang/whinlatter.yml
          - yocto/qemu/qemuarm64.yaml     
