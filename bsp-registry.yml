specification:
  version: "1.0"

environment:
  - name: "GITCONFIG_FILE"
    value: "$ENV{HOME}/.gitconfig"
  - name: "DL_DIR"
    value: "$ENV{HOME}/data/cache/downloads"
  - name: "SSTATE_DIR"
    value: "$ENV{HOME}/data/cache/sstate"

containers:
  - ubuntu-20.04:
      file: Dockerfile.ubuntu
      image: "advantech/bsp-registry/ubuntu-20.04/kas:4.7"
      args:
        - name: "DISTRO" 
          value: "ubuntu:20.04"
        - name: "KAS_VERSION"
          value: "4.7"
  - ubuntu-22.04:
      file: Dockerfile.ubuntu
      image: "advantech/bsp-registry/ubuntu-22.04/kas:5.0"
      args:
        - name: "DISTRO" 
          value: "ubuntu:22.04"
        - name: "KAS_VERSION"
          value: "5.0"

registry:
  bsp:
    - name: adv-bsp-oenxp-mickledore-rsb3730
      description: "RSB3730 A2 ACL Mickledore BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.1"
      build:
        path: build/adv-oenxp-bsp-rsb3730-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-mickledore-rsb3730.yaml

    - name: adv-bsp-oenxp-mickledore-rsb3730-4g
      description: "RSB3730 A2 4G ACL Mickledore BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.1"
      build:
        path: build/adv-oenxp-bsp-rsb3730-4g-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-mickledore-rsb3730-4g.yaml

    - name: adv-bsp-oenxp-kirkstone-rsb3720
      description: "RSB3720 ACL Kirkstone BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.0"
      build:
        path: build/adv-oenxp-bsp-rsb3720-kirkstone
        environment:
          container: "ubuntu-20.04"
        configuration:
          - adv-bsp-oenxp-kirkstone-rsb3720.yaml

    - name: adv-mbsp-oenxp-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar RSB3720"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/adv-mbsp-oenxp-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml

    - name: adv-ota-mbsp-oenxp-rauc-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar RAUC RSB3720"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/adv-ota-mbsp-oenxp-rauc-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml
          - features/ota/rauc/adv-ota-walnascar.yml

    - name: adv-ota-mbsp-oenxp-swupdate-walnascar-rsb3720
      description: "Advantech EIoT Yocto Walnascar RAUC RSB3720"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/adv-ota-mbsp-oenxp-swupdate-rsb3720-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - adv-mbsp-oenxp-walnascar-rsb3720.yaml
          - features/ota/swupdate/adv-ota-walnascar.yml

    - name: poky-qemuarm64-master
      description: "QEMU ARM64 Master BSP"
      os:
        name: Linux
        build_system: yocto
        version: "5.3"
      build:
        path: build/qemu-arm64-master
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/master.yml
          - compilers/clang/master.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-kirkstone
      description: "QEMU ARM64 Kirkstone BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.0"
      build:
        path: build/qemu-arm64-kirkstone
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/kirkstone.yml
          - compilers/clang/kirkstone.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-nanbield
      description: "QEMU ARM64 Nanbield BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.1"
      build:
        path: build/qemu-arm64-nanbield
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/nanbield.yml
          - compilers/clang/nanbield.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-mickledore
      description: "QEMU ARM64 Mickledore BSP"
      os:
        name: Linux
        build_system: yocto
        version: "4.2"
      build:
        path: build/qemu-arm64-mickledore
        environment:
          container: "ubuntu-20.04"
        configuration:
          - yocto/mickledore.yml
          - compilers/clang/mickledore.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-scarthgap
      description: "QEMU ARM64 Scarthgap BSP"
      os:
        name: Linux
        build_system: yocto
        version: "5.0"
      build:
        path: build/qemu-arm64-scarthgap
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/scarthgap.yml
          - compilers/clang/scarthgap.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-styhead
      description: "QEMU ARM64 Styhead BSP"
      os:
        name: Linux
        build_system: yocto
        version: "5.1"
      build:
        path: build/qemu-arm64-styhead
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/styhead.yml
          - compilers/clang/styhead.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-walnascar
      description: "QEMU ARM64 Walnascar BSP"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/qemu-arm64-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/walnascar.yml
          - compilers/clang/walnascar.yml
          - yocto/qemu/qemuarm64.yaml     

    - name: poky-qemuarm64-whinlatter
      description: "QEMU ARM64 Whinlatter BSP"
      os:
        name: Linux
        build_system: yocto
        version: "5.2"
      build:
        path: build/qemu-arm64-walnascar
        environment:
          container: "ubuntu-22.04"
        configuration:
          - yocto/whinlatter.yml
          - compilers/clang/whinlatter.yml
          - yocto/qemu/qemuarm64.yaml     
